<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="高額療養費制度の払い戻し金額を計算できるツールです。多数該当にも対応しています。">
<link rel="stylesheet" href="css/style.css">
<title>高額療養費 払い戻し計算ツール</title>
</head>
<body>

<div class="container">
  <header>
    <h1>💵 高額療養費<br>払い戻し計算ツール</h1>
    <nav class="nav-menu">
      <a href="index.html" class="nav-item">🔍 限度額判定</a>
      <a href="refund.html" class="nav-item active">💵 払い戻し計算</a>
    </nav>
  </header>

  <main>
    <div class="section-title">
      <h3>医療費から払い戻し金額を計算</h3>
    </div>
    
    <div class="info-box info-box-important">
      <div class="info-icon">⚠️</div>
      <div class="info-content">
        <strong>計算結果は概算です。</strong>実際の払い戻し額は加入している医療保険によって異なる場合があります。
      </div>
    </div>

    <div class="card">
              <div class="input-group">
              <div class="input-group">
                
        <label for="target-month">
          <span class="label-icon">📅</span>
          対象月
        </label>
        <input type="month" id="target-month" class="input-field">
        <p class="input-note">高額療養費は同一月（1日〜末日）ごとに計算されます。</p>
      </div>


        <label for="category">
          <span class="label-icon">📋</span>
          あなたの区分
        </label>
        <select id="category" class="select-input">
          <option value="">区分を選択してください</option>
          <option value="ア">ア（年収約1,160万円以上）</option>
          <option value="イ">イ（年収約770万円〜1,160万円）</option>
          <option value="ウ">ウ（年収約370万円〜770万円）</option>
          <option value="エ">エ（年収約370万円未満）</option>
          <option value="オ">オ（住民税非課税世帯）</option>
        </select>
        <p class="input-note">
          区分が分からない場合は、<a href="index.html">🔍 限度額判定</a>で確認できます。
        </p>
      </div>

      <div class="checkbox-group-large">
        <label class="checkbox-label-large">
          <input type="checkbox" id="is-multiple">
          <div class="checkbox-content">
            <span class="checkbox-title">🔄 多数該当に該当する</span>
            <span class="checkbox-desc">過去12ヶ月で3回以上高額療養費を利用している</span>
          </div>
        </label>
      </div>


      <div class="divider"></div>

      <div class="hospital-section">
        <div class="section-header">
          <h4>🏥 医療機関ごとの支払額</h4>
          <p class="section-note">同一月内に複数の医療機関を受診した場合、それぞれ入力してください。<br>
          <strong>※21,000円以上の支払いのみが合算対象です（21,000円未満は自動的に除外されます）。</strong></p>
        </div>

        <div id="hospital-list">
          <div class="hospital-item" data-index="1">
            <div class="hospital-header">
              <span class="hospital-number">💊 受診先 1</span>
              <button class="btn-remove" data-index="1" style="display:none;">×</button>
            </div>
            <div class="hospital-inputs">
              <div class="input-group-inline">
                <label>メモ（任意）</label>
                <input type="text" class="hospital-memo" placeholder="例）○○病院 内科、入院費など" data-index="1">
              </div>
              <div class="input-group-inline">
                <label>支払額（3割負担後）</label>
                <div class="input-wrapper-inline">
                  <input type="number" class="hospital-cost" min="0" placeholder="例）50000" data-index="1">
                  <span class="unit">円</span>
                </div>
              </div>
            </div>
            <div class="cost-warning" style="display:none;">
              ⚠️ 21,000円未満のため合算対象外です（計算から自動的に除外されます）
            </div>
          </div>

          <div class="hospital-item" data-index="2">
            <div class="hospital-header">
              <span class="hospital-number">💊 受診先 2</span>
              <button class="btn-remove" data-index="2" style="display:none;">×</button>
            </div>
            <div class="hospital-inputs">
              <div class="input-group-inline">
                <label>メモ（任意）</label>
                <input type="text" class="hospital-memo" placeholder="例）△△クリニック 整形外科など" data-index="2">
              </div>
              <div class="input-group-inline">
                <label>支払額（3割負担後）</label>
                <div class="input-wrapper-inline">
                  <input type="number" class="hospital-cost" min="0" placeholder="例）30000" data-index="2">
                  <span class="unit">円</span>
                </div>
              </div>
            </div>
            <div class="cost-warning" style="display:none;">
              ⚠️ 21,000円未満のため合算対象外です（計算から自動的に除外されます）
            </div>
          </div>
        </div>

        <button class="btn-add" id="add-hospital-btn">
          <span class="btn-icon">➕</span>
          受診先を追加
        </button>
      </div>

      <div class="divider"></div>


      <button class="btn-primary btn-large" id="calculate-btn">
        <span class="btn-icon">🧮</span>
        払い戻し金額を計算する
      </button>
    </div>

    <div id="result"></div>
  </main>
</div>

<script src="js/common.js"></script>
<script src="js/refund.js"></script>
</body>
</html>
